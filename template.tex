% ------------------------------------------------------
% CSUN Thesis Template (template.tex)
% ------------------------------------------------------

\documentclass{CSUNthesis}

\thesistitle{$thesistitle$}
\authorname{$authorname$}
\degreetype{$degreetype$}
\degreemonth{$degreemonth$}
\degreeyear{$degreeyear$}
\department{$department$}
\university{$university$}
\advisor{$advisor$}
\committeeInternalOne{$committeeInternalOne$}
\committeeInternalTwo{$committeeInternalTwo$}

% Front matter from YAML
\newcommand{\abstract}{$abstract$}
\newcommand{\acknowledgements}{$acknowledgements$}
\newcommand{\dedication}{$dedication$}
\newcommand{\abbreviations}{$abbreviations$}



% ------------------------------------------------------
% Fancy Header/Footer for CSUN
% ------------------------------------------------------

\fancyhf{}  % clear headers/footers
\fancyfoot[C]{\thepage} % center page number
\renewcommand{\headrulewidth}{0pt} % no top line
\renewcommand{\footrulewidth}{0pt} % no line (front matter default)

% Optional biblatex config (commented unless using biblatex-chicago)
% \usepackage{biblatex-chicago}
% \bibliography{thesis}

% ------------------------------------------------------
% Appearance & Behavior Tweaks
% ------------------------------------------------------

\providecommand{\pandocbounded}[1]{#1}

\def\chapterautorefname{Chapter}
\def\sectionautorefname{Section}
\def\subsectionautorefname{Subsection}
\renewcommand{\contentsname}{Table of Contents}
\setlength{\parskip}{0pt}

\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

% ------------------------------------------------------
% Spacing & TOC Setup
% ------------------------------------------------------
\renewcommand{\baselinestretch}{1.5} % default line spacing
\renewcommand{\contentsname}{Table of Contents}
\setlength{\parskip}{0pt}
\makeatletter
\def\maxwidth{%
  \ifdim\Gin@nat@width>\linewidth \linewidth \else \Gin@nat@width \fi
}
\makeatother

% Spacing between paragraphs (optional)
$if(space_between_paragraphs)$
  \usepackage[parfill]{parskip}
$endif$

% Tight lists (for Pandoc compatibility)
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}


% ------------------------------------------------------
% CSLReferences for Pandoc (required for citeproc output)
% ------------------------------------------------------
% Definitions for citeproc citations
\NewDocumentCommand\citeproctext{}{}
\NewDocumentCommand\citeproc{mm}{%
\begingroup\def\citeproctext{#2}\cite{#1}\endgroup}
\makeatletter
% allow citations to break across lines
\let\@cite@ofmt\@firstofone
% avoid brackets around text for \cite:
\def\@biblabel#1{}
\def\@cite#1#2{{#1\if@tempswa , #2\fi}}
\makeatother
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newenvironment{CSLReferences}[2] % #1 hanging-indent, #2 entry-spacing
{\begin{list}{}{%
	\setlength{\itemindent}{0pt}
	\setlength{\leftmargin}{0pt}
	\setlength{\parsep}{0pt}
	% turn on hanging indent if param 1 is 1
	\ifodd #1
	\setlength{\leftmargin}{\cslhangindent}
	\setlength{\itemindent}{-1\cslhangindent}
	\fi
	% set entry spacing
	\setlength{\itemsep}{#2\baselineskip}}}
{\end{list}}
\usepackage{calc}
\newcommand{\CSLBlock}[1]{\hfill\break\parbox[t]{\linewidth}{\strut\ignorespaces#1\strut}}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{\strut#1\strut}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{\strut#1\strut}}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}


$for(header-includes)$
	$header-includes$
$endfor$

% ------------------------------------------------------
% Document start
% ------------------------------------------------------

\begin{document} 

% -------------------- MAIN MATTER --------------------

\mainmatter
\clearpage
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[C]{\thepage}
\renewcommand{\footrulewidth}{0pt}
\renewcommand{\headrulewidth}{0pt}

$body$

\backmatter

\end{document}